{"ast":null,"code":"import _asyncToGenerator from \"/Users/chanduranwala/sampleprojects/sample_iphone_issue/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport ScanbotSdk from 'cordova-plugin-scanbot-sdk';\nimport { Capacitor } from '@capacitor/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/platform-browser\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@ionic/angular\";\nfunction HomePage_ng_template_13_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"ion-col\", 10);\n    i0.ɵɵelement(2, \"img\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const img_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", img_r2, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction HomePage_ng_template_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-title\");\n    i0.ɵɵtext(3, \"Modal\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ion-buttons\", 7)(5, \"ion-button\", 5);\n    i0.ɵɵlistener(\"click\", function HomePage_ng_template_13_Template_ion_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.setOpen(false));\n    });\n    i0.ɵɵtext(6, \"Close\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(7, \"ion-content\", 8);\n    i0.ɵɵtemplate(8, HomePage_ng_template_13_ng_container_8_Template, 3, 1, \"ng-container\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.images);\n  }\n}\nexport let HomePage = /*#__PURE__*/(() => {\n  class HomePage {\n    constructor(sanitizer) {\n      this.sanitizer = sanitizer;\n      this.SDK = ScanbotSdk.promisify();\n      this.isModalOpen = false;\n      this.images = [];\n      this.initScanbotSdk();\n    }\n    setOpen(isOpen) {\n      this.isModalOpen = isOpen;\n    }\n    initScanbotSdk() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        const config = {\n          loggingEnabled: true,\n          licenseKey: '',\n          storageImageFormat: 'JPG',\n          storageImageQuality: 80,\n          documentDetectorMode: 'ML_BASED',\n          imageProcessorType: 'ML_BASED'\n          //useCameraX: true,\n          //allowXnnpackAcceleration: false,\n          //allowGpuAcceleration: false,\n        };\n        const result = yield _this.SDK.initializeSdk(config);\n        alert(JSON.stringify(result));\n      })();\n    }\n    startDocumentScanner() {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        const configs = {\n          // Customize colors, text resources, behavior, etc..\n          cameraPreviewMode: 'FIT_IN',\n          interfaceOrientation: 'PORTRAIT',\n          pageCounterButtonTitle: '%d Page(s)',\n          multiPageEnabled: true,\n          ignoreBadAspectRatio: true,\n          topBarBackgroundColor: '#c8193c',\n          bottomBarBackgroundColor: '#c8193c'\n          // see further configs ...\n        };\n        const result = yield _this2.SDK.UI.startDocumentScanner({\n          uiConfigs: configs\n        });\n        if (result.status === 'CANCELED') {\n          // user has canceled the scanning operation\n          return;\n        }\n        for (let index = 0; index < result.pages.length; index++) {\n          const page = result.pages[index];\n          var resultFilter = yield _this2.SDK.applyImageFilterOnPage({\n            page,\n            imageFilter: 'BLACK_AND_WHITE'\n          });\n          const filePath = resultFilter.page.documentImageFileUri;\n          const fileUrl = Capacitor.convertFileSrc(filePath);\n          _this2.image = _this2.sanitizer.bypassSecurityTrustUrl(fileUrl);\n          _this2.images.push(_this2.image);\n        }\n        _this2.isModalOpen = true;\n      })();\n    }\n    static #_ = this.ɵfac = function HomePage_Factory(t) {\n      return new (t || HomePage)(i0.ɵɵdirectiveInject(i1.DomSanitizer));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: HomePage,\n      selectors: [[\"app-home\"]],\n      decls: 14,\n      vars: 3,\n      consts: [[3, \"translucent\"], [3, \"fullscreen\"], [\"collapse\", \"condense\"], [\"size\", \"large\"], [\"id\", \"container\"], [3, \"click\"], [3, \"isOpen\"], [\"slot\", \"end\"], [1, \"ion-padding\"], [4, \"ngFor\", \"ngForOf\"], [\"size\", \"4\"], [\"alt\", \"Vorschau\", 3, \"src\"]],\n      template: function HomePage_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-title\");\n          i0.ɵɵtext(3, \" Blank \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(4, \"ion-content\", 1)(5, \"ion-header\", 2)(6, \"ion-toolbar\")(7, \"ion-title\", 3);\n          i0.ɵɵtext(8, \"Scanbot SDK\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(9, \"div\", 4)(10, \"ion-button\", 5);\n          i0.ɵɵlistener(\"click\", function HomePage_Template_ion_button_click_10_listener() {\n            return ctx.startDocumentScanner();\n          });\n          i0.ɵɵtext(11, \"Scan\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"ion-modal\", 6);\n          i0.ɵɵtemplate(13, HomePage_ng_template_13_Template, 9, 1, \"ng-template\");\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"translucent\", true);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"fullscreen\", true);\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"isOpen\", ctx.isModalOpen);\n        }\n      },\n      dependencies: [i2.NgForOf, i3.IonButton, i3.IonButtons, i3.IonCol, i3.IonContent, i3.IonHeader, i3.IonTitle, i3.IonToolbar, i3.IonModal],\n      styles: [\"#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}\"]\n    });\n  }\n  return HomePage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}